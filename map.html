<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#06b6d4" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/styles.css" />
  <title>MAP</title>
</head>
<body>
<a class="skip" href="#main">Skip to content</a>

<header class="site-header">
  <div class="header-inner">
    <div class="brand-row">
      <div class="brand">
        <h1>MAP</h1>
        <small>Animal locations + your live location (geolocation)</small>
      </div>
      <span class="badge" id="netStatus">‚Ä¶</span>
    </div>

    <nav class="top-nav" aria-label="Main navigation (tablet)">
      <a data-nav href="index.html">HOME</a>
      <a data-nav href="animals.html">ANIMALS</a>
      <a data-nav href="map.html">MAP</a>
      <a data-nav href="help.html">HELP WILDLIFE</a>
    </nav>
  </div>
</header>

<main id="main" class="container">
  <section class="card">
    <div class="section-title">
      <div>
  <h2>Centre map & animal locations</h2>
  <p>
    Use this map to locate habitats and viewing areas around Jacob Wildlife Centre. Select an animal from the list below
    to highlight its area on the map, or use <strong>Use my location</strong> to see where you are while navigating on-site.
  </p>
  <p style="margin-top:10px;">
    <strong>Tip:</strong> If map tiles load slowly, the marker list still works as a reliable way to jump to an animal record.
  </p>
</div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;">
        <button class="btn soft" type="button" onclick="history.back()">‚Üê Back</button>
        <a class="btn" href="animals.html">Browse animals</a>
        <button class="btn good" id="locBtn" type="button">Use my location</button>
      </div>
    </div>

    <div class="legend">
      <span class="pill" id="locText">Location: not requested</span>
      <span class="pill" id="focusText">Focus: none</span>
      <span class="pill">Pinch not required (buttons + drag)</span>
    </div>

    <div class="map-controls">
      <button class="btn" id="zoomIn" type="button">Zoom +</button>
      <button class="btn" id="zoomOut" type="button">Zoom ‚àí</button>
      <button class="btn soft" id="recenter" type="button">Re-centre</button>
      <span class="pill" id="zoomLabel">Zoom: ‚Ä¶</span>
    </div>
  </section>

  <section class="map-wrap" style="margin-top:14px;">
    <canvas id="mapCanvas" aria-label="Canvas map showing animal and user locations"></canvas>
  </section>

  <section class="card" style="margin-top:14px;">
    <h3>Animal markers list (reliable fallback)</h3>
    <p>
      If tiles load slowly, you can still navigate using this list. ‚ÄúOpen record‚Äù jumps to the animal page section.
    </p>
    <div class="grid cols-2" id="enclosureGrid" style="margin-top:12px;"></div>
  </section>

  <footer class="site-footer">
  <div class="footer-band">
    <div class="footer-inner">
      <div>
        <strong>Jacob Wildlife Centre</strong>
        <p>
          Use the interactive map to locate enclosures and view animal markers. Your location is optional and stays on your device.
        </p>
      </div>

      <div>
        <strong>Explore</strong>
        <div class="footer-links">
          <a href="index.html">Home</a>
          <a href="animals.html">Animals</a>
          <a href="map.html">Map</a>
          <a href="help.html">Help Wildlife</a>
          <a href="kids.html">Kids</a>
          <a href="favourites.html">Favourites</a>
        </div>
      </div>

      <div>
        <strong>Privacy note</strong>
        <p>
          Location access is only used for on-screen navigation in this app session. You can deny permission and still use all pages.
        </p>
      </div>

      <div class="footer-bottom">
        <small>¬© 2026 ‚Ä¢ Jacob Wildlife Centre</small>
        <small>Map ‚Ä¢ Geolocation</small>
      </div>
    </div>
  </div>
</footer>
</main>

<nav class="bottom-nav" aria-label="Bottom navigation (mobile)">
  <div class="inner">
    <a data-nav href="index.html">üè†<span>Home</span></a>
    <a data-nav href="animals.html">ü¶î<span>Animals</span></a>
    <a data-nav href="map.html">üó∫Ô∏è<span>Map</span></a>
    <a data-nav href="help.html">üß§<span>Help</span></a>
  </div>
</nav>

<script src="js/app.js"></script>
<script src="js/map.js"></script>
</body>
</html>
